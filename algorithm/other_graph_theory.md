# 기타 그래프 알고리즘
## 서로소 집합
- 서로소 집합(Disjoint Sets)이란 **공통 원소가 없는 두 집합**을 의미한다.
    
    ![disjoint_sets_1](./img/disjoint_sets_1.png)

### 서로소 집합 자료구조
- **서로소 부분 집합들로 나누어진 원소들의 데이터를 처리하기 위한 자료구조**이다.

- 서로소 판별을 위해 사용할 수 있는 자료구조이다.

- 서로소 집합 자료구조는 두 종류의 연산을 지원한다.

  - **합집합(Union):** 두 개의 원소가 포함된 집합을 하나의 집합으로 합치는 연산이다.

  - **찾기(Find):** 특정한 원소가 속한 집합이 어떤 집합인지 알려주는 연산이다.

- 서로소 집합 자료구조는 **합치기 찾기(Union Find) 자료구조**라고 불리기도 한다.

### 서로소 집합 자료구조: 동작 과정
- 여러 개의 합치기 연산이 주어졌을 때 서로소 집합 자료구조의 동작 과정은 다음과 같다.
  1. 합집합(Union) 연산을 확인하여, 서로 연결된 두 노드 A, B를 확인한다.
     1. A와 B의 루트 노드 A', B'를 각각 찾는다.
     2. A'를 B'의 부모 노드로 설정한다.
  2. 모든 합집합(Union) 연산을 처리할 때까지 1번의 과정을 반복한다.

### 서로소 집합 자료구조: 동작 과정 예시
- 처리할 연산들: *Union(1,4), Union(2,3), Union(2,4), Union(5,6)*
- [초기 단계] 노드의 개수 크기의 부모 테이블을 초기화한다.
  - 처음에는 모두 노드 번호의 부모를 자기 자신으로 초기화한다.
  - 즉 초기 단계에서는 6개가 각각 서로 다른 집합이다.

    ![disjoint_sets_2](./img/disjoint_sets_2.png)

- 처리할 연산들: ***Union(1,4)***, *Union(2,3), Union(2,4), Union(5,6)*
- [Step 1] 노드 1과 노드 4의 루트 노드를 각각 찾는다. 현재 루트 노드는 각각 1과 4이므로 더 큰 번호에 해당하는 루트 노드 4의 부모를 1로 설정한다.
  - 더 큰 번호에 해당하는 루트 노드 4의 부모를 1로 설정하지 않고 반대로 노드 1의 부모를 4로 설정할 수 있다. 
  - 다만 일반적으로 번호가 더 큰 루트 노드가 더 작은 루트 노드를 가리키도록 하여 테이블을 갱신한다.
  
    ![disjoint_sets_3](./img/disjoint_sets_3.png)

- 처리할 연산들: ***Union(1,4)***, ***Union(2,3)***, *Union(2,4), Union(5,6)*
- [Step 2] 노드 2와 노드 3의 루트 노드를 각각 찾는다. 현재 루트 노드는 각각 2와 3이므로 더 큰 번호에 해당하는 루트 노드 3의 부모를 2로 설정한다.

    ![disjoint_sets_4](./img/disjoint_sets_4.png)

- 처리할 연산들: ***Union(1,4), Union(2,3), Union(2,4)***, *Union(5,6)*
- [Step 3] 노드 2와 노드 4의 루트 노드를 각각 찾는다. 현재 루트 노드는 각각 2와 1이므로 더 큰 번호에 해당하는 루트 노드 2의 부모를 1로 설정한다.
- 현재 테이블은 부모 노드에 대해 기록하는 테이블이며 루트 테이블이 아니다. 
- 현재 노드 3과 노드 4는 같은 집합으로 연결되어있다. 그러나 노드 3의 부모는 노드 2이고 노드 4의 부모는 노드 1이다. 이처럼 단순히 한번 확인하는 것으로는 같은 집합임을 확인할 수 없고 부모 노드를 타고 끝까지 올라가 둘의 루트 노드가 같은지 아닌지 확인하여 같은 집합인지 아닌지 판단한다.

    ![disjoint_sets_5](./img/disjoint_sets_5.png)

- 처리할 연산들: ***Union(1,4), Union(2,3), Union(2,4), Union(5,6)***
- [Step 4] 노드 5와 노드 6의 루트 노드를 각각 찾는다. 현재 루트 노드는 각각 5와 6이므로 더 큰 번호에 해당하는 루트 노드 6의 부모를 5로 설정한다.

    ![disjoint_sets_5](./img/disjoint_sets_6.png)

### 서로소 집합 자료구조: 연결성
- 서로소 집합 자료구조에서는 연결성을 통해 손쉽게 집합의 형태와 몇 개의 집합이 존재하는 지를 확인할 수 있다.

    ![disjoint_sets_7](./img/disjoint_sets_7.png)

- 이와 같이 하나의 루트 노드를 갖고 하나의 트리 형태로 구성된 그래프를 같은 집합이라고 할 수 있다.

- 왼쪽에 하나의 그래프가 형성되어 있고 이 부분 그래프는 루트를 1로 가지고 총 4개의 원소가 서로 연결되어 있다는 것을 확인할 수 있다. 

- 오른쪽에 또 다른 그래프는 루트가 5인 원소가 2개로 구성된 집합임을 확인할 수 있다.

- 결과적으로 2개의 집합으로 나눠진다는 것을 알 수 있고 왼쪽 집합과 오른쪽 집합은 서로소 관계이다.

- 기본적인 형태의 서로소 집합 자료구조에서는 루트 노드에 즉시 접근할 수 없다.
  - 루트 노드를 찾기 위해 **부모 테이블을 계속해서 확인하며 거슬러 올라가야 한다.**
- 다음 예시에서 노드 3의 루트를 찾기 위해서는 노드 2를 거쳐 노드 1에 접근해야 한다.

    ![disjoint_sets_8](./img/disjoint_sets_8.png)